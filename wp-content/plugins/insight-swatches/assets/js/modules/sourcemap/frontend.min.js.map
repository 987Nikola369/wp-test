{"version":3,"sources":["frontend.js"],"names":["window","isw","$","extend","ajax_url","isw_vars","ajax","nonce","product_selector","price_selector","localization","apply","this","jQuery","Swatches","init","$form","$swatches","initSingle","initLoop","each","css","addClass","register","handlerSwatches","$term","find","$activeTerm","$this","term","attr","title","parent","val","closest","filter","$termRow","parents","first","html","trigger","off","on","evt","preventDefault","$thisTerm","hasClass","removeClass","$swatch","$thisSelectOption","$thisSwatch","empty","text","self","$resetBtn","$product","variationData","parseJSON","length","e","show","attributes","getChosenAttributes","currentAttributes","data","count","chosenCount","updateAttributes","variation","findMatchingVariations","shift","foundVariation","removeAttr","select_options_text","$price","not","$price_cloned","remove","variationsImageUpdate","hide","document","product_id","quantity","item","$thisButton","variation_id","action","type","url","dataType","success","response","error","product_url","location","wc_add_to_cart_params","cart_redirect_after_add","cart_url","body","fragments","cart_hash","console","log","available_options_count","idx","el","num","current_attr_sw","current_attr_name","selected_attr_val","checkAttributes","variations","attr_name","attr_val","variation_active","variationAttributes","hasOwnProperty","variation_is_active","addSlashes","string","replace","chosen","attribute_name","value","settings","matching","i","isMatch","push","variation_attributes","val1","val2","match","undefined","$price_clone","clone","price_html","append","replaceWith","changeAddToCartBtnText","setVariationAttr","$el","resetVariationAttr","$product_img","image","full_src","sizes","$atcBtn","Object","keys","is_in_stock","add_to_cart_text","read_more_text","ready"],"mappings":"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","file":"../../frontend.min.js","sourcesContent":["'use strict';\n\nwindow.isw = {};\n\n(\n\tfunction( isw, $ ) {\n\t\tisw = isw || {};\n\t\t$.extend( isw, {\n\t\t\tajax_url: isw_vars.ajax,\n\t\t\tnonce: isw_vars.nonce,\n\t\t\tproduct_selector: isw_vars.product_selector,\n\t\t\tprice_selector: isw_vars.price_selector,\n\t\t\tlocalization: isw_vars.localization,\n\t\t} );\n\t}\n).apply( this, [ window.isw, jQuery ] );\n\n(\n\tfunction( isw, $ ) {\n\t\tisw = isw || {};\n\t\t$.extend( isw, {\n\t\t\tSwatches: {\n\t\t\t\tinit: function() {\n\t\t\t\t\tthis.$form = $( 'form.isw-swatches.variations_form' );\n\t\t\t\t\tthis.$swatches = $( 'div.isw-swatches' );\n\n\t\t\t\t\tthis.initSingle();\n\t\t\t\t\tthis.initLoop();\n\n\t\t\t\t\t$( '.isw-term' ).each( function() {\n\t\t\t\t\t\tif ( $( this ).css( 'background-color' ) === 'rgb(255, 255, 255)' ) {\n\t\t\t\t\t\t\t$( this ).addClass( 'isw-white' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Register swatches for custom variations form.\n\t\t\t\t *\n\t\t\t\t * @param $form\n\t\t\t\t */\n\t\t\t\tregister: function( $form ) {\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\tself.handlerSwatches( $form );\n\t\t\t\t},\n\n\t\t\t\tinitSingle: function() {\n\t\t\t\t\tvar self  = this,\n\t\t\t\t\t    $form = self.$form;\n\n\t\t\t\t\tself.handlerSwatches( $form );\n\t\t\t\t},\n\n\t\t\t\thandlerSwatches: function( $form ) {\n\t\t\t\t\tvar $term       = $form.find( '.isw-term' ),\n\t\t\t\t\t    $activeTerm = $form.find( '.isw-term:not(.isw-disabled)' );\n\n\t\t\t\t\t// Load default value.\n\t\t\t\t\t$term.each( function() {\n\t\t\t\t\t\tvar $this      = $( this ),\n\t\t\t\t\t\t    term       = $this.attr( 'data-term' ),\n\t\t\t\t\t\t    title      = $this.attr( 'title' ),\n\t\t\t\t\t\t    attr       = $this.parent().attr( 'data-attribute' ),\n\t\t\t\t\t\t    $selectBox = $this.closest( '.row-isw-swatch' ).find( 'select' ).filter( '[id=\"' + attr + '\"]' ),\n\t\t\t\t\t\t    val        = $selectBox.val();\n\n\t\t\t\t\t\tif ( val !== '' && term === val ) {\n\t\t\t\t\t\t\t$( this ).addClass( 'isw-selected' );\n\n\t\t\t\t\t\t\tvar $termRow           = $this.parents( '.row-isw-swatch' ).first(),\n\t\t\t\t\t\t\t    $termSelectedLabel = $termRow.find( '.selected-term-name' );\n\n\t\t\t\t\t\t\tif ( $termSelectedLabel ) {\n\t\t\t\t\t\t\t\t$termRow.find( '.selected-term-name' ).html( title );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$( 'body' ).trigger( 'isw_selected', [ attr, term, title, $this ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t$activeTerm.off( 'click' ).on( 'click', function( evt ) {\n\t\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\t\tvar $thisTerm = $( this );\n\n\t\t\t\t\t\tif ( $thisTerm.hasClass( 'isw-disabled' ) ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar term       = $thisTerm.attr( 'data-term' ),\n\t\t\t\t\t\t    title      = $thisTerm.attr( 'title' ),\n\t\t\t\t\t\t    attr       = $thisTerm.parent().attr( 'data-attribute' ),\n\t\t\t\t\t\t    $selectBox = $thisTerm.closest( '.row-isw-swatch' ).find( 'select' ).filter( '[id=\"' + attr + '\"]' );\n\n\t\t\t\t\t\t$selectBox.val( term ).trigger( 'change' );\n\n\t\t\t\t\t\t$thisTerm.parent( '.isw-swatch' ).find( '.isw-selected' ).removeClass( 'isw-selected' );\n\t\t\t\t\t\t$thisTerm.addClass( 'isw-selected' );\n\n\t\t\t\t\t\t$( 'body' ).trigger( 'isw_selected', [ attr, term, title, $thisTerm ] );\n\t\t\t\t\t} );\n\n\t\t\t\t\t$form.on( 'woocommerce_update_variation_values', function() {\n\t\t\t\t\t\t$form.find( 'select' ).each( function() {\n\t\t\t\t\t\t\tvar $this = $( this );\n\t\t\t\t\t\t\tvar $swatch = $this.parent().find( '.isw-swatch' );\n\n\t\t\t\t\t\t\t$swatch.find( '.isw-term' ).removeClass( 'isw-enabled isw-out-of-stock' ).addClass( 'isw-disabled' );\n\n\t\t\t\t\t\t\t$this.find( 'option' ).each( function() {\n\t\t\t\t\t\t\t\tvar $thisSelectOption = $( this ),\n\t\t\t\t\t\t\t\t    val               = $thisSelectOption.val(),\n\t\t\t\t\t\t\t\t    $thisSwatch       = $swatch.find( '.isw-term[data-term=\"' + val + '\"]' );\n\n\t\t\t\t\t\t\t\tif ( $thisSelectOption.hasClass( 'enabled' ) ) {\n\t\t\t\t\t\t\t\t\t$thisSwatch.removeClass( 'isw-disabled' ).addClass( 'isw-enabled' );\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( $thisSelectOption.hasClass( 'out-of-stock' ) ) {\n\t\t\t\t\t\t\t\t\t$thisSwatch.addClass( 'isw-out-of-stock' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\t\t$form.on( 'reset_data', function() {\n\t\t\t\t\t\t$( 'body' ).trigger( 'isw_reset' );\n\t\t\t\t\t\t$( this ).find( '.selected-term-name' ).empty();\n\t\t\t\t\t\t$( this ).find( '.isw-selected' ).removeClass( 'isw-selected' );\n\t\t\t\t\t\t$( this ).find( 'select' ).each( function() {\n\t\t\t\t\t\t\tvar attr = $( this ).attr( 'id' );\n\t\t\t\t\t\t\tvar title = $( this ).find( 'option:selected' ).text();\n\t\t\t\t\t\t\tvar term = $( this ).val();\n\t\t\t\t\t\t\tif ( term !== '' ) {\n\t\t\t\t\t\t\t\t$( this ).parent().find( '.isw-term[data-term=\"' + term + '\"]' ).addClass( 'isw-selected' );\n\t\t\t\t\t\t\t\t$( 'body' ).trigger( 'isw_reset_attr', [ attr, term, title ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t},\n\n\t\t\t\tinitLoop: function() {\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\tself.$swatches.each( function() {\n\n\t\t\t\t\t\tvar $swatches     = $( this ),\n\t\t\t\t\t\t    $term         = $swatches.find( '.isw-term:not(.isw-disabled)' ),\n\t\t\t\t\t\t    $resetBtn     = $swatches.find( '.reset_variations--loop' ),\n\t\t\t\t\t\t    $product      = $swatches.closest( isw.product_selector ),\n\t\t\t\t\t\t    variationData = $.parseJSON( $swatches.attr( 'data-product_variations' ) );\n\n\t\t\t\t\t\t// add class if empty\n\t\t\t\t\t\tif ( $swatches.find( '.isw-swatch' ).length == 0 ) {\n\t\t\t\t\t\t\t$swatches.addClass( 'isw-empty' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$term.off( 'click' ).on( 'click', function( e ) {\n\n\t\t\t\t\t\t\tvar $this = $( this );\n\n\t\t\t\t\t\t\tif ( $this.hasClass( 'isw-disabled' ) ) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar term = $this.attr( 'data-term' );\n\n\t\t\t\t\t\t\t$product.find( '.isw-term' ).removeClass( 'isw-disabled isw-enabled' );\n\t\t\t\t\t\t\t$this.parent().find( '.isw-term.isw-selected' ).removeClass( 'isw-selected' );\n\n\t\t\t\t\t\t\tif ( $this.hasClass( 'isw-selected' ) ) {\n\t\t\t\t\t\t\t\t$this.parent().removeClass( 'isw-activated' );\n\t\t\t\t\t\t\t\t$product.removeClass( 'isw-product-swatched' );\n\n\t\t\t\t\t\t\t\tif ( !$product.find( '.isw-selected' ).length ) {\n\t\t\t\t\t\t\t\t\t$resetBtn.trigger( 'click' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$this.parent().addClass( 'isw-activated' );\n\t\t\t\t\t\t\t\t$this.addClass( 'isw-selected' );\n\n\t\t\t\t\t\t\t\t$product.addClass( 'isw-product-swatched' );\n\t\t\t\t\t\t\t\t$resetBtn.addClass( 'show' ).show();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar attributes        = self.getChosenAttributes( $swatches ),\n\t\t\t\t\t\t\t    currentAttributes = attributes.data;\n\n\t\t\t\t\t\t\tif ( attributes.count === attributes.chosenCount ) {\n\t\t\t\t\t\t\t\tself.updateAttributes( $swatches, variationData );\n\n\t\t\t\t\t\t\t\tvar matching_variations = self.findMatchingVariations( variationData, currentAttributes ),\n\t\t\t\t\t\t\t\t    variation           = matching_variations.shift();\n\n\t\t\t\t\t\t\t\tif ( variation ) {\n\t\t\t\t\t\t\t\t\t// Found variation\n\t\t\t\t\t\t\t\t\tself.foundVariation( $swatches, variation );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$resetBtn.trigger( 'click' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.updateAttributes( $swatches, variationData );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t$resetBtn.off( 'click' ).on( 'click', function() {\n\n\t\t\t\t\t\t\t$product.removeClass( 'isw-product-swatched' );\n\n\t\t\t\t\t\t\t$swatches.removeAttr( 'data-variation_id' );\n\t\t\t\t\t\t\t$swatches.find( '.isw-swatch' ).removeClass( 'isw-activated' );\n\t\t\t\t\t\t\t$swatches.find( '.isw-term' ).removeClass( 'isw-enabled isw-disabled isw-selected' );\n\n\t\t\t\t\t\t\t$( 'body' ).trigger( 'isw_reset_add_to_cart_button_text', [ $product ] );\n\n\t\t\t\t\t\t\t$product.find( '.add_to_cart_button' ).removeClass( 'isw-ready isw-readmore isw-text-changed added loading' ).text( isw.localization.select_options_text );\n\n\t\t\t\t\t\t\t// reset price\n\t\t\t\t\t\t\tvar $price        = $product.find( isw.price_selector ).not( '.price-cloned' ),\n\t\t\t\t\t\t\t    $price_cloned = $product.find( '.price-cloned' );\n\n\t\t\t\t\t\t\tif ( $price_cloned.length ) {\n\t\t\t\t\t\t\t\t$price.html( $price_cloned.html() );\n\t\t\t\t\t\t\t\t$price_cloned.remove();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// reset image\n\t\t\t\t\t\t\tself.variationsImageUpdate( false, $product );\n\n\t\t\t\t\t\t\t$( this ).removeClass( 'show' ).hide();\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Ajax add to cart.\n\t\t\t\t\t$( document ).on( 'click', '.add_to_cart_button.product_type_variable.isw-ready', function() {\n\t\t\t\t\t\tvar $thisButton = $( this ),\n\t\t\t\t\t\t    $swatches   = $thisButton.closest( isw.product_selector ).find( '.isw-swatches' );\n\n\t\t\t\t\t\tvar variation_id = $swatches.attr( 'data-variation_id' );\n\n\t\t\t\t\t\tif ( typeof variation_id == 'undefined' || variation_id == '' ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar product_id = $thisButton.attr( 'data-product_id' ),\n\t\t\t\t\t\t    quantity   = $thisButton.attr( 'data-quantity' ),\n\t\t\t\t\t\t    item       = {};\n\n\t\t\t\t\t\t$swatches.find( '.isw-swatch' ).each( function() {\n\t\t\t\t\t\t\tvar attr = $( this ).attr( 'data-attribute' );\n\n\t\t\t\t\t\t\titem[ attr ] = $( this ).find( 'span.isw-selected' ).attr( 'aria-label' );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t$thisButton.removeClass( 'added' );\n\n\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\taction: 'isw_add_to_cart',\n\t\t\t\t\t\t\tnonce: isw.nonce,\n\t\t\t\t\t\t\tproduct_id: product_id,\n\t\t\t\t\t\t\tquantity: quantity,\n\t\t\t\t\t\t\tvariation_id: variation_id,\n\t\t\t\t\t\t\tvariation: item,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t$( 'body' ).trigger( 'adding_to_cart', [ $thisButton, data ] );\n\n\t\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\turl: isw.ajax_url,\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\t\t\tif ( !response ) {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( response.error && response.product_url ) {\n\t\t\t\t\t\t\t\t\twindow.location = response.product_url;\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Redirect to cart option.\n\t\t\t\t\t\t\t\tif ( wc_add_to_cart_params.cart_redirect_after_add === 'yes' ) {\n\t\t\t\t\t\t\t\t\twindow.location = wc_add_to_cart_params.cart_url;\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Trigger event so themes can refresh other areas.\n\t\t\t\t\t\t\t\t$( document.body ).trigger( 'added_to_cart', [\n\t\t\t\t\t\t\t\t\tresponse.fragments, response.cart_hash, $thisButton\n\t\t\t\t\t\t\t\t] );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror: function( error ) {\n\t\t\t\t\t\t\t\tconsole.log( error );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} );\n\n\t\t\t\t},\n\n\t\t\t\tupdateAttributes: function( $swatches, variationData ) {\n\t\t\t\t\tvar self                    = this,\n\t\t\t\t\t    attributes              = self.getChosenAttributes( $swatches ),\n\t\t\t\t\t    currentAttributes       = attributes.data,\n\t\t\t\t\t    available_options_count = 0,\n\t\t\t\t\t    $swatch                 = $swatches.find( '.isw-swatch' );\n\n\t\t\t\t\t$swatch.each( function( idx, el ) {\n\n\t\t\t\t\t\tvar current_attr_sw         = $( el ),\n\t\t\t\t\t\t    current_attr_name       = 'attribute_' + current_attr_sw.attr( 'data-attribute' ),\n\t\t\t\t\t\t    selected_attr_val       = current_attr_sw.find( '.isw-term.isw-selected' ).attr( 'data-term' ),\n\t\t\t\t\t\t    selected_attr_val_valid = true,\n\t\t\t\t\t\t    checkAttributes         = $.extend( true, {}, currentAttributes );\n\n\t\t\t\t\t\tcheckAttributes[ current_attr_name ] = '';\n\n\t\t\t\t\t\tvar variations = self.findMatchingVariations( variationData, checkAttributes );\n\n\t\t\t\t\t\t// Loop through variations.\n\t\t\t\t\t\tfor ( var num in variations ) {\n\t\t\t\t\t\t\tif ( typeof variations[ num ] !== 'undefined' ) {\n\t\t\t\t\t\t\t\tvar variationAttributes = variations[ num ].attributes;\n\n\t\t\t\t\t\t\t\tfor ( var attr_name in variationAttributes ) {\n\t\t\t\t\t\t\t\t\tif ( variationAttributes.hasOwnProperty( attr_name ) ) {\n\t\t\t\t\t\t\t\t\t\tvar attr_val         = variationAttributes[ attr_name ],\n\t\t\t\t\t\t\t\t\t\t    variation_active = '';\n\n\t\t\t\t\t\t\t\t\t\tif ( attr_name === current_attr_name ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( variations[ num ].variation_is_active ) {\n\t\t\t\t\t\t\t\t\t\t\t\tvariation_active = 'enabled';\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif ( attr_val ) {\n\t\t\t\t\t\t\t\t\t\t\t\t// available\n\t\t\t\t\t\t\t\t\t\t\t\tcurrent_attr_sw.find( '.isw-term[data-term=\"' + attr_val + '\"]' ).addClass( 'isw-' + variation_active );\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t// apply for all swatches\n\t\t\t\t\t\t\t\t\t\t\t\tcurrent_attr_sw.find( '.isw-term' ).addClass( 'isw-' + variation_active );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tavailable_options_count = current_attr_sw.find( '.isw-term.isw-enabled' ).length;\n\n\t\t\t\t\t\tif ( selected_attr_val && (\n\t\t\t\t\t\t\tavailable_options_count === 0 || current_attr_sw.find( '.isw-term.isw-enabled[data-term=\"' + self.addSlashes( selected_attr_val ) + '\"]' ).length === 0\n\t\t\t\t\t\t) ) {\n\t\t\t\t\t\t\tselected_attr_val_valid = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Disable terms not available\n\t\t\t\t\t\tcurrent_attr_sw.find( '.isw-term:not(.isw-enabled)' ).addClass( 'isw-disabled' );\n\t\t\t\t\t} );\n\t\t\t\t},\n\n\t\t\t\taddSlashes: function( string ) {\n\t\t\t\t\tstring = string.replace( /'/g, '\\\\\\'' );\n\t\t\t\t\tstring = string.replace( /\"/g, '\\\\\\\"' );\n\t\t\t\t\treturn string;\n\t\t\t\t},\n\n\t\t\t\tgetChosenAttributes: function( $swatches ) {\n\t\t\t\t\tvar data    = {},\n\t\t\t\t\t    count   = 0,\n\t\t\t\t\t    chosen  = 0,\n\t\t\t\t\t    $swatch = $swatches.find( '.isw-swatch' );\n\n\t\t\t\t\t$swatch.each( function() {\n\n\t\t\t\t\t\tvar attribute_name = 'attribute_' + $( this ).attr( 'data-attribute' ),\n\t\t\t\t\t\t    value          = $( this ).find( '.isw-term.isw-selected' ).attr( 'data-term' ) || '';\n\n\t\t\t\t\t\tif ( value.length > 0 ) {\n\t\t\t\t\t\t\tchosen ++;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcount ++;\n\t\t\t\t\t\tdata[ attribute_name ] = value;\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'count': count,\n\t\t\t\t\t\t'chosenCount': chosen,\n\t\t\t\t\t\t'data': data,\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\tfindMatchingVariations: function( variationData, settings ) {\n\t\t\t\t\tvar matching = [];\n\t\t\t\t\tfor ( var i = 0; i < variationData.length; i ++ ) {\n\t\t\t\t\t\tvar variation = variationData[ i ];\n\n\t\t\t\t\t\tif ( this.isMatch( variation.attributes, settings ) ) {\n\t\t\t\t\t\t\tmatching.push( variation );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn matching;\n\t\t\t\t},\n\n\t\t\t\tisMatch: function( variation_attributes, attributes ) {\n\t\t\t\t\tvar match = true;\n\t\t\t\t\tfor ( var attr_name in variation_attributes ) {\n\t\t\t\t\t\tif ( variation_attributes.hasOwnProperty( attr_name ) ) {\n\t\t\t\t\t\t\tvar val1 = variation_attributes[ attr_name ];\n\t\t\t\t\t\t\tvar val2 = attributes[ attr_name ];\n\t\t\t\t\t\t\tif ( val1 !== undefined && val2 !== undefined && val1.length !== 0 && val2.length !== 0 && val1 !== val2 ) {\n\t\t\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn match;\n\t\t\t\t},\n\n\t\t\t\tfoundVariation: function( $swatches, variation ) {\n\t\t\t\t\tvar self         = this,\n\t\t\t\t\t    $product     = $swatches.closest( '.product' ),\n\t\t\t\t\t    $price       = $product.find( isw.price_selector ).not( '.price-cloned' ),\n\t\t\t\t\t    $price_clone = $price.clone().addClass( 'price-cloned' ).css( 'display', 'none' );\n\n\t\t\t\t\tif ( variation.price_html ) {\n\n\t\t\t\t\t\tif ( !$product.find( '.price-cloned' ).length ) {\n\t\t\t\t\t\t\t$product.append( $price_clone );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$price.replaceWith( variation.price_html );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( $product.find( '.price-cloned' ).length ) {\n\t\t\t\t\t\t\t$price.replaceWith( $price_clone.html() );\n\t\t\t\t\t\t\t$price_clone.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// add variation id\n\t\t\t\t\t$swatches.attr( 'data-variation_id', variation.variation_id );\n\n\t\t\t\t\t// update image\n\t\t\t\t\tself.variationsImageUpdate( variation, $product );\n\n\t\t\t\t\t// change add to cart button text\n\t\t\t\t\tself.changeAddToCartBtnText( variation, $product );\n\t\t\t\t},\n\n\t\t\t\tsetVariationAttr: function( $el, attr, value ) {\n\t\t\t\t\tif ( undefined === $el.attr( 'data-o_' + attr ) ) {\n\t\t\t\t\t\t$el.attr( 'data-o_' + attr, (\n\t\t\t\t\t\t\t!$el.attr( attr )\n\t\t\t\t\t\t) ? '' : $el.attr( attr ) );\n\t\t\t\t\t}\n\t\t\t\t\tif ( false === value ) {\n\t\t\t\t\t\t$el.removeAttr( attr );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$el.attr( attr, value );\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tresetVariationAttr: function( $el, attr ) {\n\t\t\t\t\tif ( undefined !== $el.attr( 'data-o_' + attr ) ) {\n\t\t\t\t\t\t$el.attr( attr, $el.attr( 'data-o_' + attr ) );\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tvariationsImageUpdate: function( variation, $product ) {\n\t\t\t\t\tvar self         = this,\n\t\t\t\t\t    $product_img = $product.find( '.wp-post-image' );\n\n\t\t\t\t\tif ( variation && variation.image.full_src ) {\n\t\t\t\t\t\tself.setVariationAttr( $product_img, 'src', variation.image.full_src );\n\t\t\t\t\t\tself.setVariationAttr( $product_img, 'srcset', variation.image.full_src );\n\t\t\t\t\t\tself.setVariationAttr( $product_img, 'sizes', variation.image.sizes );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.resetVariationAttr( $product_img, 'src' );\n\t\t\t\t\t\tself.resetVariationAttr( $product_img, 'srcset' );\n\t\t\t\t\t\tself.resetVariationAttr( $product_img, 'sizes' );\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\tchangeAddToCartBtnText: function( variation, $product ) {\n\t\t\t\t\tvar $atcBtn = $product.find( '.add_to_cart_button' ),\n\t\t\t\t\t    text    = '';\n\n\t\t\t\t\t$atcBtn.removeClass( 'added' );\n\n\t\t\t\t\tif ( Object.keys( variation.attributes ).length == $product.find( '.isw-swatch' ).length ) {\n\t\t\t\t\t\tif ( variation.is_in_stock === true ) {\n\t\t\t\t\t\t\ttext = isw.localization.add_to_cart_text;\n\t\t\t\t\t\t\t$atcBtn.addClass( 'isw-ready' ).removeClass( 'isw-readmore' );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// out of stock\n\t\t\t\t\t\t\ttext = isw.localization.read_more_text;\n\t\t\t\t\t\t\t$atcBtn.addClass( 'isw-readmore' ).removeClass( 'isw-ready' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext = isw.localization.select_options_text;\n\t\t\t\t\t\t$atcBtn.removeClass( 'isw-ready isw-readmore' );\n\t\t\t\t\t}\n\n\t\t\t\t\t$atcBtn.addClass( 'isw-text-changed' ).text( text );\n\n\t\t\t\t\t$( 'body' ).trigger( 'isw_change_add_to_cart_button_text', [ $product ] );\n\t\t\t\t},\n\t\t\t},\n\t\t} )\n\t}\n).apply( this, [ window.isw, jQuery ] );\n\n(\n\tfunction( isw, $ ) {\n\t\t$( document ).ready( function() {\n\t\t\tif ( typeof isw.Swatches !== 'undefined' ) {\n\t\t\t\tisw.Swatches.init();\n\t\t\t}\n\t\t} );\n\t}\n).apply( this, [ window.isw, jQuery ] );\n"]}