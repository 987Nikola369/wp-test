{"version":3,"sources":["modal.js"],"names":["$","MinimogModal","$el","options","this","ACTIVE_CLASS","initialized","defaults","removeOnClose","perfectScrollbar","afterInit","settings","extend","triggerMethod","method","setOptions","getOptions","update","setHeight","newHeight","find","height","init","plugin","dynamic","addClass","html","on","e","preventDefault","stopPropagation","close","document","body","keyCode","trigger","open","filter","removeClass","attr","prop","window","minimog","Helpers","setBodyOverflow","fn","isHandheld","unsetBodyOverflow","remove","namespace","args","length","data","get","each","let","instance","jQuery"],"mappings":"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","file":"../../modal.min.js","sourcesContent":["(function( $ ) {\n\t'use strict';\n\n\tvar MinimogModal = function( $el, options ) {\n\t\tthis.$el          = $el;\n\t\tthis.ACTIVE_CLASS = 'open';\n\t\tthis.initialized  = false;\n\t\tthis.defaults     = {\n\t\t\tremoveOnClose: false,\n\t\t\tperfectScrollbar: true,\n\t\t\tafterInit: () => {\n\t\t\t}\n\t\t};\n\t\tthis.settings     = $.extend( {}, this.defaults, options );\n\n\t\t// jQuery methods.\n\t\tthis.triggerMethod = ( method, options ) => {\n\t\t\tif ( typeof this[method] === 'function' ) {\n\t\t\t\tthis[method]( options );\n\t\t\t}\n\t\t};\n\n\t\tthis.setOptions = function( options ) {\n\t\t\toptions = options || {};\n\n\t\t\tthis.settings = $.extend( {}, this.settings, options );\n\t\t};\n\n\t\tthis.getOptions = function() {\n\t\t\treturn this.settings;\n\t\t};\n\n\t\tthis.update = function( options ) {\n\t\t\tthis.setOptions( options );\n\t\t};\n\n\t\tthis.setHeight = function( newHeight ) {\n\t\t\tthis.$el.find( '.modal-content-wrap' ).height( newHeight );\n\t\t};\n\n\t\tthis.init = function() {\n\t\t\tvar plugin = this;\n\n\t\t\tif ( false === plugin.initialized ) {\n\t\t\t\tif ( this.settings.dynamic ) {\n\t\t\t\t\t$el.addClass( 'minimog-modal' );\n\t\t\t\t\t$el.html( `<div class=\"modal-overlay\"></div><div class=\"modal-content\"><div class=\"button-close-modal\"></div><div class=\"modal-content-wrap\"><div class=\"modal-content-inner\"></div></div></div>` );\n\t\t\t\t\tthis.settings.afterInit( this );\n\t\t\t\t}\n\n\t\t\t\t$el.on( 'click', '.modal-overlay, .button-close-modal', function( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\n\t\t\t\t\tplugin.close();\n\t\t\t\t} );\n\n\t\t\t\t$( document.body ).on( 'keyup', function( e ) {\n\t\t\t\t\t// Esc button\n\t\t\t\t\tif ( e.keyCode === 27 ) {\n\t\t\t\t\t\tplugin.close();\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tplugin.initialized = true;\n\t\t\t\t$( document.body ).trigger( 'MinimogModalInit', [ $el ] );\n\n\t\t\t\tplugin.open();\n\t\t\t}\n\t\t};\n\n\t\tthis.open = function() {\n\t\t\tvar plugin = this;\n\n\t\t\t$( '.minimog-modal' ).filter( '.' + plugin.ACTIVE_CLASS ).removeClass( plugin.ACTIVE_CLASS ).attr( 'aria-hidden', 'true' ).prop( 'hidden', true );\n\n\t\t\tplugin.init();\n\n\t\t\t$el.addClass( plugin.ACTIVE_CLASS ).attr( 'aria-hidden', 'false' ).prop( 'hidden', false );\n\n\t\t\twindow.minimog.Helpers.setBodyOverflow();\n\n\t\t\tif ( this.settings.perfectScrollbar && $.fn.perfectScrollbar && ! window.minimog.Helpers.isHandheld() ) {\n\t\t\t\t$el.find( '.modal-content-wrap' ).perfectScrollbar();\n\t\t\t}\n\n\t\t\t$( document.body ).trigger( 'MinimogModalOpen', [ $el ] );\n\t\t\t$el.trigger( 'MinimogModalOpen' );\n\t\t};\n\n\t\tthis.close = function() {\n\t\t\tvar plugin = this;\n\n\t\t\t$el.removeClass( plugin.ACTIVE_CLASS ).attr( 'aria-hidden', 'true' ).prop( 'hidden', true );\n\n\t\t\twindow.minimog.Helpers.unsetBodyOverflow();\n\n\t\t\t$( document.body ).trigger( 'MinimogModalClose', [ $el ] );\n\t\t\t$el.trigger( 'MinimogModalClose' );\n\n\t\t\tif ( this.settings.removeOnClose ) {\n\t\t\t\t$el.remove();\n\t\t\t}\n\t\t};\n\n\t\tthis.init();\n\t};\n\n\tconst namespace = 'minimogModal';\n\n\t$.fn.extend( {\n\t\tMinimogModal: function( args, update ) {\n\t\t\t// Check if selected element exist.\n\t\t\tif ( ! this.length ) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t// We need to return options.\n\t\t\tif ( args === 'options' ) {\n\t\t\t\treturn $.data( this.get( 0 ), namespace ).getOptions();\n\t\t\t}\n\n\t\t\treturn this.each( function() {\n\t\t\t\tvar $el = $( this );\n\n\t\t\t\tlet instance = $.data( this, namespace );\n\n\t\t\t\tif ( instance ) { // Already created then trigger method.\n\t\t\t\t\tinstance.triggerMethod( args, update );\n\t\t\t\t} else { // Create new instance.\n\t\t\t\t\tinstance = new MinimogModal( $el, args );\n\t\t\t\t\t$.data( this, namespace, instance );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n}( jQuery ));\n"]}