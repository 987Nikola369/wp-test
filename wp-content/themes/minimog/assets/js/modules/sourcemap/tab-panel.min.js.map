{"version":3,"sources":["tab-panel.js"],"names":["$","MinimogTabPanel","$el","options","this","$contentWrapper","find","ACTIVE_CLASS","SWITCHING_CLASS","defaults","navType","contentHeight","settings","extend","triggerMethod","method","setOptions","getOptions","update","updateContentHeight","init","$accordion","plugin","$contentTabs","children","on","evt","index","val","switchTab","fn","MinimogNiceSelect","preventDefault","$thisTab","data","hasClass","siblings","removeClass","attr","addClass","perfectScrollbar","window","minimog","Helpers","isHandheld","suppressScrollY","useBothWheelAxes","$activeTab","updateLayout","MinimogAccordion","length","setTimeout","observer","ResizeObserver","entries","each","observe","get","$panel","prop","filter","document","body","trigger","outerHeight","css","namespace","args","let","instance","jQuery"],"mappings":"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","file":"../../tab-panel.min.js","sourcesContent":["(function( $ ) {\n\t'use strict';\n\n\tvar $window = $( window );\n\n\tvar MinimogTabPanel = function( $el, options ) {\n\t\tthis.$el             = $el;\n\t\tthis.$contentWrapper = $el.find( '.minimog-tabs__content' );\n\t\tthis.ACTIVE_CLASS    = 'active';\n\t\tthis.SWITCHING_CLASS = 'switching';\n\n\t\tthis.defaults = {\n\t\t\tnavType: 'list',\n\t\t\tcontentHeight: 0\n\t\t};\n\t\tthis.settings = $.extend( {}, this.defaults, options );\n\n\t\t// jQuery methods.\n\t\tthis.triggerMethod = ( method, options ) => {\n\t\t\tif ( typeof this[method] === 'function' ) {\n\t\t\t\tthis[method]( options );\n\t\t\t}\n\t\t};\n\n\t\tthis.setOptions = function( options ) {\n\t\t\toptions = options || {};\n\n\t\t\tthis.settings = $.extend( {}, this.settings, options );\n\t\t};\n\n\t\tthis.getOptions = function() {\n\t\t\treturn this.settings;\n\t\t};\n\n\t\tthis.update = function( options ) {\n\t\t\tthis.setOptions( options );\n\n\t\t\tthis.updateContentHeight();\n\t\t};\n\n\t\tthis.init = function() {\n\t\t\tvar plugin       = this,\n\t\t\t    $contentTabs = this.$contentWrapper.children( '.tab-content' );\n\n\t\t\tif ( 'dropdown' === plugin.settings.navType ) {\n\t\t\t\t$el.on( 'change', '.tab-select', function( evt ) {\n\t\t\t\t\tvar index = $( this ).val();\n\n\t\t\t\t\tplugin.switchTab( index );\n\t\t\t\t} );\n\n\t\t\t\tif ( $.fn.MinimogNiceSelect() ) {\n\t\t\t\t\t$el.find( '.tab-select' ).MinimogNiceSelect();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$el.on( 'click', '.tab-title', function( evt ) {\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\tvar $thisTab = $( this ),\n\t\t\t\t\t    index    = $thisTab.data( 'tab' );\n\n\t\t\t\t\tif ( $thisTab.hasClass( plugin.ACTIVE_CLASS ) ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$thisTab.siblings().removeClass( plugin.ACTIVE_CLASS ).attr( 'aria-selected', 'false' ).attr( 'tabindex', '-1' );\n\t\t\t\t\t$thisTab.addClass( plugin.ACTIVE_CLASS ).attr( 'aria-selected', 'true' ).attr( 'tabindex', '0' );\n\n\t\t\t\t\tplugin.switchTab( index );\n\t\t\t\t} );\n\n\t\t\t\tif ( $.fn.perfectScrollbar && ! window.minimog.Helpers.isHandheld() ) {\n\t\t\t\t\t$el.find( '.minimog-tabs__header-inner' ).perfectScrollbar( {\n\t\t\t\t\t\tsuppressScrollY: true,\n\t\t\t\t\t\tuseBothWheelAxes: true,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.$activeTab = $el.find( '.tab-content.active' );\n\t\t\tthis.updateLayout();\n\n\t\t\t// Update Tab when child components size changed.\n\t\t\tif ( $.fn.MinimogAccordion ) {\n\t\t\t\tvar $accordion = plugin.$el.find( '.minimog-accordion' );\n\t\t\t\tif ( 0 < $accordion.length ) {\n\t\t\t\t\t$accordion.on( 'MinimogAccordionBeforeChange', function() {\n\t\t\t\t\t\tplugin.$el.addClass( plugin.SWITCHING_CLASS );\n\t\t\t\t\t} );\n\n\t\t\t\t\t$accordion.on( 'MinimogAccordionChange', function() {\n\t\t\t\t\t\tplugin.updateLayout();\n\t\t\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t\t\tplugin.$el.removeClass( plugin.SWITCHING_CLASS );\n\t\t\t\t\t\t}, 400 );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst observer = new ResizeObserver( entries => {\n\t\t\t\tthis.updateLayout();\n\t\t\t} );\n\t\t\t$contentTabs.each( function() {\n\t\t\t\t// Start listening for size changes.\n\t\t\t\tobserver.observe( $( this ).get( 0 ) );\n\t\t\t} );\n\n\t\t\t$el.addClass( 'initialized' );\n\t\t};\n\n\t\tthis.switchTab = function( index ) {\n\t\t\tvar plugin = this;\n\t\t\t$el.addClass( plugin.SWITCHING_CLASS );\n\t\t\tvar $panel = $el.find( '.tab-content' );\n\t\t\t$panel.removeClass( plugin.ACTIVE_CLASS ).attr( 'aria-expanded', false ).prop( 'hidden', true );\n\n\t\t\tthis.$activeTab =\n\t\t\t\t$panel.filter( '[data-tab=\"' + index + '\"]' ).addClass( plugin.ACTIVE_CLASS ).attr( 'aria-expanded', true ).prop( 'hidden', false );\n\t\t\tplugin.updateLayout();\n\n\t\t\tsetTimeout( function() {\n\t\t\t\t$el.removeClass( plugin.SWITCHING_CLASS );\n\t\t\t}, 400 );\n\n\t\t\t$( document.body ).trigger( 'MinimogTabChange', [ $el, this.$activeTab ] );\n\t\t};\n\n\t\t/**\n\t\t * Calculate tab content height\n\t\t */\n\t\tthis.updateLayout = function() {\n\t\t\tthis.settings.contentHeight = this.$activeTab.outerHeight();\n\t\t\tthis.updateContentHeight();\n\t\t};\n\n\t\tthis.updateContentHeight = function() {\n\t\t\tthis.$contentWrapper.css( 'height', this.settings.contentHeight + 'px' );\n\t\t};\n\n\t\tthis.init();\n\t};\n\n\tconst namespace = 'minimogTabPanel';\n\n\t$.fn.extend( {\n\t\tMinimogTabPanel: function( args, update ) {\n\t\t\t// Check if selected element exist.\n\t\t\tif ( ! this.length ) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t// We need to return options.\n\t\t\tif ( args === 'options' ) {\n\t\t\t\treturn $.data( this.get( 0 ), namespace ).getOptions();\n\t\t\t}\n\n\t\t\treturn this.each( function() {\n\t\t\t\tvar $el = $( this );\n\n\t\t\t\tlet instance = $.data( this, namespace );\n\n\t\t\t\tif ( instance ) { // Already created then trigger method.\n\t\t\t\t\tinstance.triggerMethod( args, update );\n\t\t\t\t} else { // Create new instance.\n\t\t\t\t\tinstance = new MinimogTabPanel( $el, args );\n\t\t\t\t\t$.data( this, namespace, instance );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n}( jQuery ));\n"]}