!function(k){"use strict";var S=k("body"),$=window.minimog.Helpers;class t extends HTMLElement{constructor(){super()}connectedCallback(){new Readmore(this,{moreLink:'<a href="#" class="btn btn-flat btn-small">'+$minimogProductSingle.i18n.readMore+"</a>",lessLink:'<a href="#" class="btn btn-flat btn-small">'+$minimogProductSingle.i18n.readLess+"</a>"})}}function C(t,e,i,o,n){n=n.parents(".row-isw-swatch").first();n.hasClass("row-isw-swatch--isw_select")||n.find(".selected-term-name").html(o)}customElements.define("text-collapsible",t),k(document).ready(function(){function t(){k.fn.lightGallery&&e.hasClass("has-light-gallery")&&(e.removeData("lightGallery"),e.lightGallery(window.minimog.LightGallery))}var e,i,o,n,a,l,s,r,c,d,m,g,p;if((e=k(".woo-single-gallery")).length<=0||(!$minimog.isSingle||"product"!==$minimog.postType||"slider"!==$minimogProductSingle.featureStyle&&"slider-02"!==$minimogProductSingle.featureStyle&&"carousel"!==$minimogProductSingle.featureStyle||(a={},e.hasClass("has-thumbs-slider")&&(o=e.find(".minimog-thumbs-swiper").MinimogSwiper(),a={thumbs:{swiper:o,autoScrollOffset:2}}),e.children(".minimog-main-swiper").MinimogSwiper(a)),t(),e.on("minimog_wc_gallery_init_light_gallery",t)),"1"===$minimogProductSingle.singleProductStickyBar){const _=k("#sticky-product-bar"),v=k(".entry-product form.cart");_.length<=0||v.length<=0||(i=v.find(".single_add_to_cart_button").offset().top,o=_.outerHeight(),n="showing",S.css("--sticky-atc-bar-height",o+"px"),_.on("click",".sticky-product-bar-close",function(t){t.preventDefault(),_.addClass("hide"),S.css("--sticky-atc-bar-height",0)}),k(window).on("scroll",function(){k(this).scrollTop()>i?_.addClass(n):_.removeClass(n)}),k(document.body).on("click",".sticky-product-add_to_cart_button",function(t){t.preventDefault();t=v.offset().top-132;k("html, body").animate({scrollTop:t},600)}))}if((a=k("#commentform")).on("click",".comment-form__attachment-button",function(){k(this).closest(".comment-form").find(".comment-form-attachment__input").trigger("click")}),a.on("change",".comment-form-attachment__input",function(t){var e=k(this).closest(".comment-form").find(".comment-form__attachment-button"),t=this.files&&1<this.files.length?$minimogProductSingle.i18n.filesSelected.replace("{count}",this.files.length):t.target.value.split("\\").pop();e.find(".button-text").text(t)}),d="1"===$minimog.light_gallery_download,h="1"===$minimog.light_gallery_auto_play,f="1"===$minimog.light_gallery_zoom,p="1"===$minimog.light_gallery_full_screen,b="1"===$minimog.light_gallery_share,l={selector:"a",mode:"lg-fade",thumbnail:"1"===$minimog.light_gallery_thumbnail,download:d,autoplay:h,zoom:f,share:b,fullScreen:p,hash:!1,animateThumb:!1,showThumbByDefault:!1,getCaptionFromTitleOrAlt:!1},k(".dco-attachment-gallery").each(function(){k(this).lightGallery(l)}),d=k("#woo-single-info .entry-summary > .variations_form"),s=d.siblings(".woobt-wrap").find(".woobt-product-this"),d.find("select").on("change",function(){var t=k(this),e=t.attr("name"),t=t.val();s.find('.variations_form select[name="'+e+'"]').val(t).trigger("change")}),k.fn.perfectScrollbar&&!$.isHandheld()&&k(".woobt-products-wrap").perfectScrollbar({suppressScrollY:!0,useBothWheelAxes:!0}),"product"===$minimog.postType){var u=$minimog.postID,h="recent_viewed_products",f=$.getCookie(h),b=u;if(""!==f){for(var w=f.split(","),y=0;y<w.length;y++)for(;w[y]==u;)w.splice(y,1);w.unshift(u),20<w.length&&w.slice(1,20),b=w.join()}$.setCookie(h,b,7)}(p=k("#live-viewing-visitors")).length<=0||({min:r,max:c,duration:d,labels:m}=p.data("settings"),g=p.find(".text"),r=parseInt(r),c=parseInt(c),setInterval(function(){var t=$.randomInteger(r,c),e=(e=1<t?m.plural:m.singular).replace("%s",'<span class="count">'+t+"</span>");g.html(e)},d)),f=k(".minimog-size-guide__table-wrapper"),k.fn.perfectScrollbar&&0<f.length&&f.perfectScrollbar({suppressScrollY:!0,useBothWheelAxes:!0}),k(document.body).on("click","#product-share-url",function(){var t=k(this).parent();$.copyToClipboard(k(this).val())&&t.attr("aria-label",t.attr("data-copied")),setTimeout(function(){t.attr("aria-label",t.attr("data-copy"))},2e3)}),S.on("isw_selected",C),k(".minimog-tabs").MinimogTabPanel(),k(document.body).on("click",".woobt-add-btn",function(t){t.preventDefault();var t="checked",e=k(this),i=e.attr("data-pid"),i=e.parents(".woobt-images").siblings(".woobt-products").find('.woobt-product[data-pid="'+i+'"]').find(".woobt-checkbox"),o=e.hasClass(t);e.toggleClass(t),i.prop("checked",!o),i.trigger("change")}),k(document.body).on("change",".woobt-layout-separate .woobt-checkbox",function(){var t=k(this),e=t.closest(".woobt-product"),i=e.data("pid"),t=t.prop("checked"),e=e.parents(".woobt-products").siblings(".woobt-images").find(".woobt-image-"+i).find(".woobt-add-btn");t?e.addClass("checked"):e.removeClass("checked")}),k(document.body).on("click",".btn-open-product-360",function(t){t.preventDefault();var t=k('<div id="modal-product-360" class="modal-product-360"></div>'),i=k.extend({},{sense:-1,responsive:!0,animate:!1,plugins:["360","wheel","drag"]},k(this).data("spritespin-settings")),o=i.height/i.width;S.append(t),t.MinimogModal({dynamic:!0,removeOnClose:!0,afterInit:function(t){var t=t.$el.find(".modal-content-inner"),e=k('<div id="product-360-spritespin" class="product-360-spritespin" style="--aspect-ratio: '+o+'"></div>');t.append(e),e.spritespin(i)}})})})}(jQuery);